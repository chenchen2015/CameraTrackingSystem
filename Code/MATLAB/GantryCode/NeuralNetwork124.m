function [y1] = NeuralNetwork124(x1)
%MYNEURALNETWORKFUNCTION neural network simulation function.
%
% Generated by Neural Network Toolbox function genFunction, 05-Sep-2017 14:52:09.
%
% [y1] = myNeuralNetworkFunction(x1) takes these arguments:
%   x = Qx6 matrix, input #1
% and returns:
%   y = Qx3 matrix, output #1
% where Q is the number of samples.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1_xoffset = [2.89772727272727;101.721200626701;37.3382352941176;543.472790697674;274.848926540806;442.241958939264];
x1_step1_gain = [0.000985846865059892;0.00193240281416834;0.00159511942268586;0.00345963156239641;0.00112924665560436;0.00225758167563735];
x1_step1_ymin = -1;

% Layer 1
b1 = [2.9324152112803974;1.8976603099919584;0.97341603203083982;-4.9289294410897639;0.31443660965406306;-0.22021701399549956;-0.17405213289082044;0.31255241968142611;-0.98117299751347431;1.2302867028147244];
IW1_1 = [-0.80929542572426871 -0.27457492243728154 2.0205402927491445 0.24182612970508235 -0.23501568890174923 0.2344561249935497;-0.12403329983053077 -1.4632272483908286 -0.1664430223509773 0.24343561065233046 0.63237779479192313 -0.13759636067043876;0.2143077785422145 -0.27221824150449547 -0.56119893157205591 0.18829577269719272 0.80504157351216155 0.30273572211813865;-0.12601970476661908 -0.31063943240758618 -0.14392889970309283 0.070752736838305325 3.8935515689266609 0.33329370382812612;0.83983370426453341 -0.17159859526522545 0.50641199919130275 0.61040822908467085 0.44902548690967126 -0.037616575873121748;-0.7109727838928076 0.14698581337717212 -0.16390968040225154 0.050678343212011714 -0.69578929285804891 0.39244004745612598;-0.14293516985237142 0.6138110201100283 -0.092528272857716559 0.15066287338091697 -0.074853878389213618 0.62649045380818946;-0.0040096111914175317 -0.36203773580522541 -0.36763479710570124 0.062304152684366489 -0.07194598661379821 0.3074171090331545;-1.029815625665528 -0.11079946130215075 -1.0188741310541398 -0.16455653772852247 0.064412934500582067 -0.065684628513959564;0.2196762797648239 -0.27725521561213906 -0.34996558086715629 -0.1274667624867738 0.86264591327260176 -0.049618945702988401];

% Layer 2
b2 = [0.047352251838849085;-0.38329228267391535;0.12444934570173032];
LW2_1 = [0.51413503106914882 0.16121219586792654 -0.37085733706494728 0.50278557966812043 0.42598136775522366 -0.14067683252613153 0.153801819824611 -1.515074055588761 0.55608310527096405 0.72244772903830112;1.273431958460655 -0.24697939636098143 -0.55891711018906609 -0.99348042233620548 0.50634149316247667 0.8549271859217682 -0.80999323603611129 -0.096884192560196064 -0.16288862220031625 -0.86727950603350779;-0.29185964625416611 -0.57278186648838636 -0.51085879952400559 -0.065396154706053658 -0.51668863008230648 -0.21087247660589786 -1.0208677164079474 -0.085612357186694549 -0.022837753294607827 1.0824092059336903];

% Output 1
y1_step1_ymin = -1;
y1_step1_gain = [1.71428571428571;2.5;5.71428571428571];
y1_step1_xoffset = [-0.7;-0.4;-0.35];

% ===== SIMULATION ========

% Dimensions
Q = size(x1,1); % samples

% Input 1
x1 = x1';
xp1 = mapminmax_apply(x1,x1_step1_gain,x1_step1_xoffset,x1_step1_ymin);

% Layer 1
a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*xp1);

% Layer 2
a2 = repmat(b2,1,Q) + LW2_1*a1;

% Output 1
y1 = mapminmax_reverse(a2,y1_step1_gain,y1_step1_xoffset,y1_step1_ymin);
y1 = y1';
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings_gain,settings_xoffset,settings_ymin)
y = bsxfun(@minus,x,settings_xoffset);
y = bsxfun(@times,y,settings_gain);
y = bsxfun(@plus,y,settings_ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n)
a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings_gain,settings_xoffset,settings_ymin)
x = bsxfun(@minus,y,settings_ymin);
x = bsxfun(@rdivide,x,settings_gain);
x = bsxfun(@plus,x,settings_xoffset);
end
