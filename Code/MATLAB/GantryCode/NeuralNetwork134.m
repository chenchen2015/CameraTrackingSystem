function [y1] = NeuralNetwork134(x1)
%MYNEURALNETWORKFUNCTION neural network simulation function.
%
% Generated by Neural Network Toolbox function genFunction, 05-Sep-2017 14:53:24.
%
% [y1] = myNeuralNetworkFunction(x1) takes these arguments:
%   x = Qx6 matrix, input #1
% and returns:
%   y = Qx3 matrix, output #1
% where Q is the number of samples.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1_xoffset = [2.89772727272727;24.9331057157309;1071.25152129817;778.984215885947;395.516315431679;406.498648502541];
x1_step1_gain = [0.000985846865059892;0.00187190338865914;0.00210326166253141;0.00282867635737751;0.00121180918151041;0.00217002815440406];
x1_step1_ymin = -1;

% Layer 1
b1 = [2.9407760173559199;2.0463497449802639;-1.6229918734821291;-0.13505064258393898;0.86823921034119911;-0.040380679551904608;0.048581231692807078;0.30019446813414574;-1.4054290553421112;1.5958372220733159];
IW1_1 = [0.92614557199100811 -1.1012240208755293 -0.532320814208327 0.58458912553577935 -0.63010780759646401 1.1066453348229939;-1.4967588581922269 0.25338158827667884 -0.35286590163256037 0.55118191404415562 -0.81321525385639493 0.50207478587672461;1.0065682585701357 -0.16839254046408034 -0.27555974842968489 -0.17186682730252487 0.42984922319914837 -0.5818313102332443;0.88239436665605542 -0.10145813511605974 -0.18433437469027319 0.75341858493691605 -0.5735464054309507 -0.88516062562323117;0.051437567113270355 -0.72409053387856148 0.75947669016173391 -0.40471745969551765 -0.030687848199524088 0.2700060789450125;-0.11145122846880544 0.83650964057546617 0.26168022634424914 -0.24141934798397735 -0.051028609107505452 1.2725450151164304;-0.085079026874299496 0.59404033184711669 0.67684021899193314 0.57503769041603003 0.016167214492514997 -0.25196819083090494;-0.32637307865889253 1.2227339322129094 0.3267917651124117 0.30389963990131302 -0.24674863519599202 2.2522907076757011;0.077856503652659975 0.58819714834810455 0.51504954394762847 0.90493114806102626 -0.2082854085141424 -0.13353595118681622;0.64676731317248537 -0.18973879591121867 0.16073524335338313 -0.05602016281824438 1.5896784234198182 0.41706366775447773];

% Layer 2
b2 = [0.14605049083291036;0.92296461610912395;0.17694198538723779];
LW2_1 = [-1.0824407344263565 -0.17909160899770304 -0.65249659151160166 -0.37496932494452101 -0.71896231296873203 -1.8852035225326762 0.29244710787173156 0.98485492237440009 0.55217786316292961 0.98201022120018988;-0.67398467370350046 -0.49015065036483119 -1.2406877594496644 -0.10245049677262062 -0.020885953085113804 -1.209391613331311 0.94206785864531528 0.3779063434633575 0.48993205076384078 -0.72561316754577598;-0.37384877166098529 0.44891898539597386 0.52618043174667894 -0.090652953256415453 0.41202382691663708 -1.075435064038168 -0.062025828023266581 0.13797685810623889 -0.26754594671855708 -0.16792157945068426];

% Output 1
y1_step1_ymin = -1;
y1_step1_gain = [1.71428571428571;2.5;5.71428571428571];
y1_step1_xoffset = [-0.7;-0.4;-0.35];

% ===== SIMULATION ========

% Dimensions
Q = size(x1,1); % samples

% Input 1
x1 = x1';
xp1 = mapminmax_apply(x1,x1_step1_gain,x1_step1_xoffset,x1_step1_ymin);

% Layer 1
a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*xp1);

% Layer 2
a2 = repmat(b2,1,Q) + LW2_1*a1;

% Output 1
y1 = mapminmax_reverse(a2,y1_step1_gain,y1_step1_xoffset,y1_step1_ymin);
y1 = y1';
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings_gain,settings_xoffset,settings_ymin)
y = bsxfun(@minus,x,settings_xoffset);
y = bsxfun(@times,y,settings_gain);
y = bsxfun(@plus,y,settings_ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n)
a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings_gain,settings_xoffset,settings_ymin)
x = bsxfun(@minus,y,settings_ymin);
x = bsxfun(@rdivide,x,settings_gain);
x = bsxfun(@plus,x,settings_xoffset);
end
