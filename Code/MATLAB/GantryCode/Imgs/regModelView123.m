function [y1] = regModelView123(x1)
%MYNEURALNETWORKFUNCTION neural network simulation function.
%
% Generated by Neural Network Toolbox function genFunction, 16-Aug-2017 16:06:24.
%
% [y1] = myNeuralNetworkFunction(x1) takes these arguments:
%   x = Qx6 matrix, input #1
% and returns:
%   y = Qx3 matrix, output #1
% where Q is the number of samples.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1_xoffset = [58.3950723392064;16.6526946107784;22.5;593.194;423.41743442516;471.542918918919];
x1_step1_gain = [0.00109738896908689;0.00176613726220262;0.00431051622805971;0.0039694645522381;0.00123857604294176;0.00193991422567882];
x1_step1_ymin = -1;

% Layer 1
b1 = [-2.1935945897386024;-1.7724068938641435;0.59839779965236917;-1.0013810599689541;0.20513162608257107;-1.1398049945407636;-0.22228352511757277;1.7419147855962429;1.5739706125169255;1.0690957213596661];
IW1_1 = [1.1137591268810783 -1.0608456430114175 0.66744038371395853 0.86956350445369679 0.41585996890094989 -0.48917674216846097;1.1258070504161364 0.54716533393629785 -1.1260801017257613 -0.84721169886916292 0.49325007922275882 0.28456276878504266;-1.4041805279955137 0.98987156193886428 0.17475019747023623 -1.0901427336707066 3.0486228841430076 0.015010012513588923;0.70102326882515842 -0.0099146801362125 0.93011557183010052 -1.5438206115273663 0.70945142056366417 -1.1948551019899243;0.43142540870871487 -0.10536055971081953 0.40139345842921959 -1.2201562526281564 0.11692630561919652 -0.21090051409005675;-0.64639160234900206 -1.6281084016862919 0.29513529019648815 0.41688141145949559 1.2054744959778492 0.59899701576277919;-0.66109586949594945 -0.0097458794709406656 0.48383357920234793 0.081008155566338585 -0.79518895525638145 1.0080226556940899;0.85061122994139804 1.6427693636684364 -0.64694917203700031 -0.41309448673312688 0.13029922998211582 -0.5369554865344901;0.96040650929465066 0.14022331608236216 0.56670101425827069 1.2238076168790677 0.49371610200784077 0.088697926336467406;0.65690409872600419 -0.020982517109616395 0.19668944071626598 0.057627435630960941 1.2781722743201676 -0.33443734233466188];

% Layer 2
b2 = [-0.39230939831707762;-0.20490467603472132;-0.027693200039000571];
LW2_1 = [0.16702798538739932 -0.27688462505803985 0.3612486149612798 -0.064925404974811196 0.14897605252056062 0.95169224194948576 0.34943682677160054 0.43304910243228451 0.10347882389875061 0.70008813841869511;-1.0080536278973347 -0.75694783724425674 -0.048252351793664973 -0.12170669514289065 0.34147029905097831 -0.1790918260256199 0.38793466809495286 -0.68583569359621399 -0.056979702357025069 -0.75236671921891718;0.39999951632899561 -0.029086063979670191 0.020586594435472234 -0.38133432740840145 1.3061608491198697 -0.03719861024818083 -0.0082670487483270175 0.6906475154455618 -0.66856457353621757 0.061910459540099043];

% Output 1
y1_step1_ymin = -1;
y1_step1_gain = [2.85714285714286;2.5;5.71428571428571];
y1_step1_xoffset = [-0.7;-0.4;-0.35];

% ===== SIMULATION ========

% Dimensions
Q = size(x1,1); % samples

% Input 1
x1 = x1';
xp1 = mapminmax_apply(x1,x1_step1_gain,x1_step1_xoffset,x1_step1_ymin);

% Layer 1
a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*xp1);

% Layer 2
a2 = repmat(b2,1,Q) + LW2_1*a1;

% Output 1
y1 = mapminmax_reverse(a2,y1_step1_gain,y1_step1_xoffset,y1_step1_ymin);
y1 = y1';
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings_gain,settings_xoffset,settings_ymin)
y = bsxfun(@minus,x,settings_xoffset);
y = bsxfun(@times,y,settings_gain);
y = bsxfun(@plus,y,settings_ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n)
a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings_gain,settings_xoffset,settings_ymin)
x = bsxfun(@minus,y,settings_ymin);
x = bsxfun(@rdivide,x,settings_gain);
x = bsxfun(@plus,x,settings_xoffset);
end
